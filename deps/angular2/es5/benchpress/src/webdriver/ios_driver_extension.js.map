{"version":3,"sources":["@traceur/generated/TemplateParser/22","benchpress/src/webdriver/ios_driver_extension.js","@traceur/generated/TemplateParser/21","@traceur/generated/TemplateParser/20","@traceur/generated/TemplateParser/25","@traceur/generated/TemplateParser/23","@traceur/generated/TemplateParser/28","benchpress/src/webdriver/@traceur/generated/TemplateParser/8","@traceur/generated/TemplateParser/13","benchpress/src/webdriver/@traceur/generated/TemplateParser/7","benchpress/src/webdriver/@traceur/generated/TemplateParser/9","benchpress/src/webdriver/@traceur/generated/TemplateParser/10"],"names":[],"mappings":"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","file":"benchpress/src/webdriver/ios_driver_extension.js","sourceRoot":"/Users/patrick/Documents/open source/angular/dist/js/dev/es6/","sourcesContent":["System.register($__placeholder__0, function($__export) {\n          $__placeholder__1\n        });","import { bind } from 'angular2/di';\nimport { ListWrapper, StringMap } from 'angular2/src/facade/collection';\nimport {\n  Json, isPresent, isBlank, RegExpWrapper, StringWrapper\n} from 'angular2/src/facade/lang';\n\nimport { WebDriverExtension } from '../web_driver_extension';\nimport { WebDriverAdapter } from '../web_driver_adapter';\nimport { Promise } from 'angular2/src/facade/async';\n\n\nexport class IOsDriverExtension extends WebDriverExtension {\n  // TODO(tbosch): use static values when our transpiler supports them\n  static get BINDINGS() { return _BINDINGS; }\n\n  _driver:WebDriverAdapter;\n\n  constructor(driver:WebDriverAdapter) {\n    super();\n    this._driver = driver;\n  }\n\n  gc() {\n    return this._driver.executeScript('window.gc()');\n  }\n\n  timeBegin(name:string):Promise {\n    return this._driver.executeScript(`console.time('${name}');`);\n  }\n\n  timeEnd(name:string, restartName:string = null):Promise {\n    var script = `console.timeEnd('${name}');`;\n    if (isPresent(restartName)) {\n      script += `console.time('${restartName}');`\n    }\n    return this._driver.executeScript(script);\n  }\n\n  // See https://github.com/WebKit/webkit/tree/master/Source/WebInspectorUI/Versions\n  readPerfLog() {\n    // TODO(tbosch): Bug in IOsDriver: Need to execute at least one command\n    // so that the browser logs can be read out!\n    return this._driver.executeScript('1+1')\n      .then( (_) => this._driver.logs('performance') )\n      .then( (entries) => {\n        var records = [];\n        ListWrapper.forEach(entries, function(entry) {\n          var message = Json.parse(entry['message'])['message'];\n          if (StringWrapper.equals(message['method'], 'Timeline.eventRecorded')) {\n            ListWrapper.push(records, message['params']['record']);\n          }\n        });\n        return this._convertPerfRecordsToEvents(records);\n      });\n  }\n\n  _convertPerfRecordsToEvents(records, events = null) {\n    if (isBlank(events)) {\n      events = [];\n    }\n    records.forEach( (record) => {\n      var endEvent = null;\n      var type = record['type'];\n      var data = record['data'];\n      var startTime = record['startTime'];\n      var endTime = record['endTime'];\n\n      if (StringWrapper.equals(type, 'FunctionCall') &&\n          (isBlank(data) || !StringWrapper.equals(data['scriptName'], 'InjectedScript'))) {\n        ListWrapper.push(events, createStartEvent('script', startTime));\n        endEvent = createEndEvent('script', endTime);\n      } else if (StringWrapper.equals(type, 'Time')) {\n        ListWrapper.push(events, createMarkStartEvent(data['message'], startTime));\n      } else if (StringWrapper.equals(type, 'TimeEnd')) {\n        ListWrapper.push(events, createMarkEndEvent(data['message'], startTime));\n      } else if (StringWrapper.equals(type, 'RecalculateStyles') ||\n        StringWrapper.equals(type, 'Layout') ||\n        StringWrapper.equals(type, 'UpdateLayerTree') ||\n        StringWrapper.equals(type, 'Paint') ||\n        StringWrapper.equals(type, 'Rasterize') ||\n        StringWrapper.equals(type, 'CompositeLayers')) {\n        ListWrapper.push(events, createStartEvent('render', startTime));\n        endEvent = createEndEvent('render', endTime);\n      } else if (StringWrapper.equals(type, 'GCEvent')) {\n        ListWrapper.push(events, createStartEvent('gc', startTime, {\n          'usedHeapSize': 0\n        }));\n        endEvent = createEndEvent('gc', endTime, {\n          'usedHeapSize': -data['usedHeapSizeDelta']\n        });\n      }\n      if (isPresent(record['children'])) {\n        this._convertPerfRecordsToEvents(record['children'], events);\n      }\n      if (isPresent(endEvent)) {\n        ListWrapper.push(events, endEvent);\n      }\n    });\n    return events;\n  }\n\n  supports(capabilities:StringMap):boolean {\n    return StringWrapper.equals(capabilities['browserName'].toLowerCase(), 'safari');\n  }\n}\n\nfunction createEvent(ph, name, time, args = null) {\n  var result = {\n    'cat': 'timeline',\n    'name': name,\n    'ts': time,\n    'ph': ph,\n    // The ios protocol does not support the notions of multiple processes in\n    // the perflog...\n    'pid': 'pid0'\n  };\n  if (isPresent(args)) {\n    result['args'] = args;\n  }\n  return result;\n}\n\nfunction createStartEvent(name, time, args = null) {\n  return createEvent('B', name, time, args);\n}\n\nfunction createEndEvent(name, time, args = null) {\n  return createEvent('E', name, time, args);\n}\n\nfunction createMarkStartEvent(name, time) {\n  return createEvent('b', name, time);\n}\n\nfunction createMarkEndEvent(name, time) {\n  return createEvent('e', name, time);\n}\n\nvar _BINDINGS = [\n  bind(IOsDriverExtension).toFactory(\n    (driver) => new IOsDriverExtension(driver),\n    [WebDriverAdapter]\n  )\n];","return {\n      setters: $__placeholder__0,\n      execute: $__placeholder__1\n    }","function($__m) {\n          $__placeholder__0\n        }","$__placeholder__0 = $__m.$__placeholder__1;","var $__placeholder__0 = $__export($__placeholder__1, $__placeholder__2);","function($__super) {\n          var $__placeholder__0 = $__placeholder__1;\n          return ($traceurRuntime.createClass)($__placeholder__2, $__placeholder__3,\n                                               $__placeholder__4, $__super);\n        }($__placeholder__5)","assert.argumentTypes($__placeholder__0)","$traceurRuntime.superConstructor($__placeholder__0).call($__placeholder__1)","assert.type.$__placeholder__0)","return assert.returnType(($__placeholder__0), $__placeholder__1)","Object.defineProperty($__placeholder__0, $__placeholder__1,\n        {get: function() {return $__placeholder__2}});"]}