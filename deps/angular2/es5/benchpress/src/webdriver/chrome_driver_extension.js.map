{"version":3,"sources":["@traceur/generated/TemplateParser/22","benchpress/src/webdriver/chrome_driver_extension.js","@traceur/generated/TemplateParser/21","@traceur/generated/TemplateParser/20","@traceur/generated/TemplateParser/25","@traceur/generated/TemplateParser/23","@traceur/generated/TemplateParser/28","benchpress/src/webdriver/@traceur/generated/TemplateParser/8","@traceur/generated/TemplateParser/13","benchpress/src/webdriver/@traceur/generated/TemplateParser/7","benchpress/src/webdriver/@traceur/generated/TemplateParser/9","benchpress/src/webdriver/@traceur/generated/TemplateParser/10"],"names":[],"mappings":"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","file":"benchpress/src/webdriver/chrome_driver_extension.js","sourceRoot":"/Users/patrick/Documents/open source/angular/dist/js/dev/es6/","sourcesContent":["System.register($__placeholder__0, function($__export) {\n          $__placeholder__1\n        });","import { bind } from 'angular2/di';\nimport { ListWrapper, StringMapWrapper, StringMap } from 'angular2/src/facade/collection';\nimport {\n  Json, isPresent, isBlank, RegExpWrapper, StringWrapper, BaseException, NumberWrapper\n} from 'angular2/src/facade/lang';\n\nimport { WebDriverExtension } from '../web_driver_extension';\nimport { WebDriverAdapter } from '../web_driver_adapter';\nimport { Promise } from 'angular2/src/facade/async';\n\n\nexport class ChromeDriverExtension extends WebDriverExtension {\n  // TODO(tbosch): use static values when our transpiler supports them\n  static get BINDINGS() { return _BINDINGS; }\n\n  _driver:WebDriverAdapter;\n\n  constructor(driver:WebDriverAdapter) {\n    super();\n    this._driver = driver;\n  }\n\n  gc() {\n    return this._driver.executeScript('window.gc()');\n  }\n\n  timeBegin(name:string):Promise {\n    return this._driver.executeScript(`console.time('${name}');`);\n  }\n\n  timeEnd(name:string, restartName:string = null):Promise {\n    var script = `console.timeEnd('${name}');`;\n    if (isPresent(restartName)) {\n      script += `console.time('${restartName}');`\n    }\n    return this._driver.executeScript(script);\n  }\n\n  // See [Chrome Trace Event Format](https://docs.google.com/document/d/1CvAClvFfyA5R-PhYUmn5OOQtYMH4h6I0nSsKchNAySU/edit)\n  readPerfLog() {\n    // TODO(tbosch): Bug in ChromeDriver: Need to execute at least one command\n    // so that the browser logs can be read out!\n    return this._driver.executeScript('1+1')\n      .then( (_) => this._driver.logs('performance') )\n      .then( (entries) => {\n        var events = [];\n        ListWrapper.forEach(entries, function(entry) {\n          var message = Json.parse(entry['message'])['message'];\n          if (StringWrapper.equals(message['method'], 'Tracing.dataCollected')) {\n            ListWrapper.push(events, message['params']);\n          }\n          if (StringWrapper.equals(message['method'], 'Tracing.bufferUsage')) {\n            throw new BaseException('The DevTools trace buffer filled during the test!');\n          }\n        });\n        return this._convertPerfRecordsToEvents(events);\n      });\n  }\n\n  _convertPerfRecordsToEvents(chromeEvents, normalizedEvents = null) {\n    if (isBlank(normalizedEvents)) {\n      normalizedEvents = [];\n    }\n    chromeEvents.forEach( (event) => {\n      var cat = event['cat'];\n      var name = event['name'];\n      var args = event['args'];\n      if (StringWrapper.equals(cat, 'disabled-by-default-devtools.timeline')) {\n        if (StringWrapper.equals(name, 'FunctionCall') &&\n          (isBlank(args) || isBlank(args['data']) || !StringWrapper.equals(args['data']['scriptName'], 'InjectedScript'))) {\n          ListWrapper.push(normalizedEvents, normalizeEvent(event, {\n            'name': 'script'\n          }));\n        } else if (StringWrapper.equals(name, 'RecalculateStyles') ||\n          StringWrapper.equals(name, 'Layout') ||\n          StringWrapper.equals(name, 'UpdateLayerTree') ||\n          StringWrapper.equals(name, 'Paint') ||\n          StringWrapper.equals(name, 'Rasterize') ||\n          StringWrapper.equals(name, 'CompositeLayers')) {\n          ListWrapper.push(normalizedEvents, normalizeEvent(event, {\n            'name': 'render'\n          }));\n        } else if (StringWrapper.equals(name, 'GCEvent')) {\n          ListWrapper.push(normalizedEvents, normalizeEvent(event, {\n            'name': 'gc',\n            'args': {\n              'usedHeapSize': isPresent(args['usedHeapSizeAfter']) ? args['usedHeapSizeAfter'] : args['usedHeapSizeBefore']\n            }\n          }));\n        }\n      } else if (StringWrapper.equals(cat, 'blink.console')) {\n        ListWrapper.push(normalizedEvents, normalizeEvent(event, {\n          'name': name\n        }));\n      }\n    });\n    return normalizedEvents;\n  }\n\n  supports(capabilities:StringMap):boolean {\n    return StringWrapper.equals(capabilities['browserName'].toLowerCase(), 'chrome');\n  }\n}\n\nfunction normalizeEvent(chromeEvent, data) {\n  var ph = chromeEvent['ph'];\n  if (StringWrapper.equals(ph, 'S')) {\n    ph = 'b';\n  } else if (StringWrapper.equals(ph, 'F')) {\n    ph = 'e';\n  }\n  var result = {\n    'pid': chromeEvent['pid'],\n    'ph': ph,\n    'cat': 'timeline',\n    'ts': chromeEvent['ts'] / 1000\n  };\n  if (chromeEvent['ph'] === 'X') {\n    var dur = chromeEvent['dur'];\n    if (isBlank(dur)) {\n      dur = chromeEvent['tdur'];\n    }\n    result['dur'] = isBlank(dur) ? 0.0 : dur / 1000;\n  }\n  StringMapWrapper.forEach(data, (value, prop) => {\n    result[prop] = value;\n  });\n  return result;\n}\n\nvar _BINDINGS = [\n  bind(ChromeDriverExtension).toFactory(\n    (driver) => new ChromeDriverExtension(driver),\n    [WebDriverAdapter]\n  )\n];","return {\n      setters: $__placeholder__0,\n      execute: $__placeholder__1\n    }","function($__m) {\n          $__placeholder__0\n        }","$__placeholder__0 = $__m.$__placeholder__1;","var $__placeholder__0 = $__export($__placeholder__1, $__placeholder__2);","function($__super) {\n          var $__placeholder__0 = $__placeholder__1;\n          return ($traceurRuntime.createClass)($__placeholder__2, $__placeholder__3,\n                                               $__placeholder__4, $__super);\n        }($__placeholder__5)","assert.argumentTypes($__placeholder__0)","$traceurRuntime.superConstructor($__placeholder__0).call($__placeholder__1)","assert.type.$__placeholder__0)","return assert.returnType(($__placeholder__0), $__placeholder__1)","Object.defineProperty($__placeholder__0, $__placeholder__1,\n        {get: function() {return $__placeholder__2}});"]}