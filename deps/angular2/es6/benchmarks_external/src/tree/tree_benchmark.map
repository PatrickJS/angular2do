{"version":3,"sources":["tree_benchmark.es6"],"names":[],"mappings":"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","file":"/Users/patrick/Documents/open source/angular/modules/benchmarks_external/src/tree/tree_benchmark.es6","sourceRoot":"/Users/patrick/Documents/open source/angular/modules/benchmarks_external/src/tree/","sourcesContent":["// tree benchmark in AngularJS 1.x\nimport {getIntParameter, bindAction} from 'angular2/src/test_lib/benchmark_util';\n\nexport function main() {\n  angular.bootstrap(document.querySelector('tree'), ['app']);\n}\n\nangular.module('app', [])\n.directive('tree', function() {\n  return {\n    scope: {\n      data: '='\n    },\n    template:\n'<span> {{data.value}}'+\n'  <span tree-if=\"data.left\"></span>'+\n'  <span tree-if=\"data.right\"></span>'+\n'</span>'\n    };\n})\n// special directive for \"if\" as angular 1.3 does not support\n// recursive components.\n.directive('treeIf', ['$compile', '$parse', function($compile, $parse) {\n  var transcludeFn;\n  return {\n    compile: function(element, attrs) {\n      var expr = $parse(attrs.treeIf);\n      var template = '<tree data=\"'+attrs.treeIf+'\"></tree>';\n      var transclude;\n      return function($scope, $element, $attrs) {\n        if (!transclude) {\n          transclude = $compile(template);\n        }\n        var childScope;\n        var childElement;\n        $scope.$watch(expr, function(newValue) {\n          if (childScope) {\n            childScope.$destroy();\n            childElement.remove();\n            childScope = null;\n            childElement = null;\n          }\n          if (newValue) {\n            childScope = $scope.$new();\n            childElement = transclude(childScope, function(clone) {\n              $element.append(clone);\n            });\n          }\n        });\n      }\n\n    }\n  }\n}])\n.config(['$compileProvider', function($compileProvider) {\n  $compileProvider.debugInfoEnabled(false);\n}])\n.run(['$rootScope', function($rootScope) {\n  var count = 0;\n  var maxDepth = getIntParameter('depth');\n\n  bindAction('#destroyDom', destroyDom);\n  bindAction('#createDom', createDom);\n\n  function destroyDom() {\n    $rootScope.$apply(function() {\n      $rootScope.initData = new TreeNode('', null, null);\n    });\n  }\n\n  function createDom() {\n    var values = count++ % 2 == 0 ?\n      ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '*'] :\n      ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', '-'];\n\n    $rootScope.$apply(function() {\n      $rootScope.initData = buildTree(maxDepth, values, 0);\n    });\n  }\n}]);\n\nclass TreeNode {\n  value:string;\n  left:TreeNode;\n  right:TreeNode;\n  constructor(value, left, right) {\n    this.value = value;\n    this.left = left;\n    this.right = right;\n  }\n}\n\nfunction buildTree(maxDepth, values, curDepth) {\n  if (maxDepth === curDepth) return new TreeNode('', null, null);\n  return new TreeNode(\n      values[curDepth],\n      buildTree(maxDepth, values, curDepth+1),\n      buildTree(maxDepth, values, curDepth+1));\n}\n\n\n\n"]}