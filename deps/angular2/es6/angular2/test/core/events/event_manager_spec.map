{"version":3,"sources":["event_manager_spec.js","@traceur/generated/TemplateParser/8","@traceur/generated/TemplateParser/25","@traceur/generated/TemplateParser/7","@traceur/generated/TemplateParser/9","@traceur/generated/TemplateParser/10"],"names":[],"mappings":"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","file":"/Users/patrick/Documents/open source/angular/modules/angular2/test/core/events/event_manager_spec.js","sourceRoot":"/Users/patrick/Documents/open source/angular/modules/angular2/test/core/events/","sourcesContent":["import {describe, ddescribe, it, iit, xit, xdescribe, expect, beforeEach, el} from 'angular2/test_lib';\nimport {EventManager, EventManagerPlugin} from 'angular2/src/core/events/event_manager';\nimport {VmTurnZone} from 'angular2/src/core/zone/vm_turn_zone';\nimport {List, ListWrapper, Map, MapWrapper} from 'angular2/src/facade/collection';\nimport {DOM, Element} from 'angular2/src/facade/dom';\n\nexport function main() {\n  describe('EventManager', () => {\n\n    it('should delegate event bindings to plugins', () => {\n      var element = el('<div></div>');\n      var handler = (e) => e;\n      var plugin = new FakeEventManagerPlugin(['click']);\n      var manager = new EventManager([plugin], new FakeVmTurnZone());\n      manager.addEventListener(element, 'click', handler);\n      expect(MapWrapper.get(plugin._eventHandlers, 'click')).toBe(handler);\n    });\n\n    it('should delegate event bindings to the first plugin supporting the event', () => {\n      var element = el('<div></div>');\n      var clickHandler = (e) => e;\n      var dblClickHandler = (e) => e;\n      var plugin1= new FakeEventManagerPlugin(['dblclick']);\n      var plugin2 = new FakeEventManagerPlugin(['click', 'dblclick']);\n      var manager = new EventManager([plugin1, plugin2], new FakeVmTurnZone());\n      manager.addEventListener(element, 'click', clickHandler);\n      manager.addEventListener(element, 'dblclick', dblClickHandler);\n      expect(MapWrapper.contains(plugin1._eventHandlers, 'click')).toBe(false);\n      expect(MapWrapper.get(plugin2._eventHandlers, 'click')).toBe(clickHandler);\n      expect(MapWrapper.contains(plugin2._eventHandlers, 'dblclick')).toBe(false);\n      expect(MapWrapper.get(plugin1._eventHandlers, 'dblclick')).toBe(dblClickHandler);\n    });\n\n    it('should fall back to native events when no plugin can handle the event', () => {\n      var element = el('<div></div>');\n      var dispatchedEvent = DOM.createMouseEvent('click');\n      var receivedEvent = null;\n      var handler = (e) => { receivedEvent = e; };\n      var plugin = new FakeEventManagerPlugin(['dblclick']);\n      var manager = new EventManager([plugin], new FakeVmTurnZone());\n      manager.addEventListener(element, 'click', handler);\n      DOM.dispatchEvent(element, dispatchedEvent);\n      expect(receivedEvent).toBe(dispatchedEvent);\n    });\n  });\n}\n\nclass FakeEventManagerPlugin extends EventManagerPlugin {\n  _supports: List<string>;\n  _eventHandlers: Map;\n  constructor(supports: List<string>) {\n    super();\n    this._supports = supports;\n    this._eventHandlers = MapWrapper.create();\n  }\n\n  supports(eventName: string): boolean {\n    return ListWrapper.contains(this._supports, eventName);\n  }\n\n  addEventListener(element: Element, eventName: string, handler: Function) {\n    MapWrapper.set(this._eventHandlers, eventName, handler);\n  }\n}\n\nclass FakeVmTurnZone extends VmTurnZone {\n  constructor() {\n    super({enableLongStackTrace: false});\n  }\n\n  run(fn) {\n    fn();\n  }\n\n  runOutsideAngular(fn) {\n    fn();\n  }\n}\n","assert.argumentTypes($__placeholder__0)","assert.genericType($__placeholder__0)","assert.type.$__placeholder__0)","return assert.returnType(($__placeholder__0), $__placeholder__1)","Object.defineProperty($__placeholder__0, $__placeholder__1,\n        {get: function() {return $__placeholder__2}});"]}