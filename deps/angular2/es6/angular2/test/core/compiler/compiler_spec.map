{"version":3,"sources":["compiler_spec.js","@traceur/generated/TemplateParser/8","@traceur/generated/TemplateParser/2967","@traceur/generated/TemplateParser/10","@traceur/generated/TemplateParser/2968","@traceur/generated/TemplateParser/7","@traceur/generated/TemplateParser/25","@traceur/generated/TemplateParser/9"],"names":[],"mappings":"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","file":"/Users/patrick/Documents/open source/angular/modules/angular2/test/core/compiler/compiler_spec.js","sourceRoot":"/Users/patrick/Documents/open source/angular/modules/angular2/test/core/compiler/","sourcesContent":["import {describe, beforeEach, it, expect, ddescribe, iit, el, IS_DARTIUM} from 'angular2/test_lib';\n\nimport {DOM, Element, TemplateElement} from 'angular2/src/facade/dom';\nimport {List, ListWrapper, Map, MapWrapper, StringMapWrapper} from 'angular2/src/facade/collection';\nimport {Type, isBlank, stringify, isPresent} from 'angular2/src/facade/lang';\nimport {PromiseWrapper} from 'angular2/src/facade/async';\n\nimport {Compiler, CompilerCache} from 'angular2/src/core/compiler/compiler';\nimport {ProtoView} from 'angular2/src/core/compiler/view';\nimport {DirectiveMetadataReader} from 'angular2/src/core/compiler/directive_metadata_reader';\nimport {Component} from 'angular2/src/core/annotations/annotations';\nimport {Template} from 'angular2/src/core/annotations/template';\nimport {CompileElement} from 'angular2/src/core/compiler/pipeline/compile_element';\nimport {CompileStep} from 'angular2/src/core/compiler/pipeline/compile_step'\nimport {CompileControl} from 'angular2/src/core/compiler/pipeline/compile_control';\nimport {TemplateLoader} from 'angular2/src/core/compiler/template_loader';\nimport {TemplateResolver} from 'angular2/src/core/compiler/template_resolver';\n\nimport {Lexer, Parser, dynamicChangeDetection} from 'angular2/change_detection';\nimport {ShadowDomStrategy, NativeShadowDomStrategy} from 'angular2/src/core/compiler/shadow_dom_strategy';\n\nexport function main() {\n  describe('compiler', function() {\n    StringMapWrapper.forEach({\n      '(sync TemplateLoader)': true,\n      '(async TemplateLoader)': false\n    }, (sync, name) => {\n      var reader, tplResolver;\n\n      beforeEach(() => {\n        reader = new DirectiveMetadataReader();\n        tplResolver = new FakeTemplateResolver();\n        if (sync) {\n          tplResolver.forceSync();\n        } else {\n          tplResolver.forceAsync();\n        }\n      });\n\n      describe(name, () => {\n\n        function createCompiler(processClosure) {\n          var steps = [new MockStep(processClosure)];\n          return new TestableCompiler(reader, steps, new FakeTemplateLoader(), tplResolver);\n        }\n\n        it('should run the steps and return the ProtoView of the root element', (done) => {\n          var rootProtoView = new ProtoView(null, null, null);\n          var compiler = createCompiler( (parent, current, control) => {\n            current.inheritedProtoView = rootProtoView;\n          });\n          tplResolver.setTemplate(MainComponent, new Template({inline: '<div></div>'}));\n          compiler.compile(MainComponent).then( (protoView) => {\n            expect(protoView).toBe(rootProtoView);\n            done();\n          });\n        });\n\n        it('should use the inline template', (done) => {\n          var compiler = createCompiler( (parent, current, control) => {\n            current.inheritedProtoView = new ProtoView(current.element, null, null);\n          });\n          compiler.compile(MainComponent).then( (protoView) => {\n            expect(DOM.getInnerHTML(protoView.element)).toEqual('inline component');\n            done();\n          });\n        });\n\n        it('should load nested components', (done) => {\n          var compiler = createCompiler( (parent, current, control) => {\n            if (DOM.hasClass(current.element, 'nested')) {\n              current.componentDirective = reader.read(NestedComponent);\n              current.inheritedProtoView = parent.inheritedProtoView;\n              current.inheritedElementBinder = current.inheritedProtoView.bindElement(null);\n            } else {\n              current.inheritedProtoView = new ProtoView(current.element, null, null);\n            }\n          });\n          tplResolver.setTemplate(MainComponent, new Template({inline: '<div class=\"nested\"></div>'}));\n          compiler.compile(MainComponent).then( (protoView) => {\n            var nestedView = protoView.elementBinders[0].nestedProtoView;\n            expect(DOM.getInnerHTML(nestedView.element)).toEqual('nested component');\n            done();\n          });\n        });\n\n        it('should cache compiled components', (done) => {\n          var compiler = createCompiler( (parent, current, control) => {\n            current.inheritedProtoView = new ProtoView(current.element, null, null);\n          });\n          var firstProtoView;\n          tplResolver.setTemplate(MainComponent, new Template({inline: '<div></div>'}));\n          compiler.compile(MainComponent).then( (protoView) => {\n            firstProtoView = protoView;\n            return compiler.compile(MainComponent);\n          }).then( (protoView) => {\n            expect(firstProtoView).toBe(protoView);\n            done();\n          });\n        });\n\n        it('should re-use components being compiled', (done) => {\n          var nestedElBinders = [];\n          var compiler = createCompiler( (parent, current, control) => {\n            if (DOM.hasClass(current.element, 'nested')) {\n              current.inheritedProtoView = new ProtoView(current.element, null, null);\n              current.inheritedElementBinder = current.inheritedProtoView.bindElement(null);\n              current.componentDirective = reader.read(NestedComponent);\n              ListWrapper.push(nestedElBinders, current.inheritedElementBinder);\n            }\n          });\n          tplResolver.setTemplate(MainComponent,\n            new Template({inline: '<div><div class=\"nested\"></div><div class=\"nested\"></div></div>'}));\n          compiler.compile(MainComponent).then( (protoView) => {\n            expect(nestedElBinders[0].nestedProtoView).toBe(nestedElBinders[1].nestedProtoView);\n            done();\n          });\n        });\n\n        it('should allow recursive components', (done) => {\n          var compiler = createCompiler( (parent, current, control) => {\n            current.inheritedProtoView = new ProtoView(current.element, null, null);\n            current.inheritedElementBinder = current.inheritedProtoView.bindElement(null);\n            current.componentDirective = reader.read(RecursiveComponent);\n          });\n          compiler.compile(RecursiveComponent).then( (protoView) => {\n            expect(protoView.elementBinders[0].nestedProtoView).toBe(protoView);\n            done();\n          });\n        });\n      });\n    });\n\n    describe('(mixed async, sync TemplateLoader)', () => {\n      var reader = new DirectiveMetadataReader();\n\n      function createCompiler(processClosure, resolver: TemplateResolver) {\n        var steps = [new MockStep(processClosure)];\n        return new TestableCompiler(reader, steps, new FakeTemplateLoader(), resolver);\n      }\n\n      function createNestedComponentSpec(name, resolver: TemplateResolver, error:string = null) {\n        it(`should load nested components ${name}`, (done) => {\n\n          var compiler = createCompiler((parent, current, control) => {\n            if (DOM.hasClass(current.element, 'parent')) {\n              current.componentDirective = reader.read(NestedComponent);\n              current.inheritedProtoView = parent.inheritedProtoView;\n              current.inheritedElementBinder = current.inheritedProtoView.bindElement(null);\n            } else {\n              current.inheritedProtoView = new ProtoView(current.element, null, null);\n            }\n          }, resolver);\n\n          PromiseWrapper.then(compiler.compile(ParentComponent),\n            function(protoView) {\n              var nestedView = protoView.elementBinders[0].nestedProtoView;\n              expect(error).toBeNull();\n              expect(DOM.getInnerHTML(nestedView.element)).toEqual('nested component');\n              done();\n            },\n            function(compileError) {\n              expect(compileError.message).toEqual(error);\n              done();\n            }\n          );\n        });\n      }\n\n      var resolver = new FakeTemplateResolver();\n      resolver.setSync(ParentComponent);\n      resolver.setSync(NestedComponent);\n      createNestedComponentSpec('(sync -> sync)', resolver);\n\n      resolver = new FakeTemplateResolver();\n      resolver.setAsync(ParentComponent);\n      resolver.setSync(NestedComponent);\n      createNestedComponentSpec('(async -> sync)', resolver);\n\n      resolver = new FakeTemplateResolver();\n      resolver.setSync(ParentComponent);\n      resolver.setAsync(NestedComponent);\n      createNestedComponentSpec('(sync -> async)', resolver);\n\n      resolver = new FakeTemplateResolver();\n      resolver.setAsync(ParentComponent);\n      resolver.setAsync(NestedComponent);\n      createNestedComponentSpec('(async -> async)', resolver);\n\n      resolver = new FakeTemplateResolver();\n      resolver.setError(ParentComponent);\n      resolver.setSync(NestedComponent);\n      createNestedComponentSpec('(error -> sync)', resolver,\n        'Failed to load the template for ParentComponent');\n\n      // TODO(vicb): Check why errors this fails with Dart\n      // TODO(vicb): The Promise is rejected with the correct error but an exc is thrown before\n      //resolver = new FakeTemplateResolver();\n      //resolver.setSync(ParentComponent);\n      //resolver.setError(NestedComponent);\n      //createNestedComponentSpec('(sync -> error)', resolver,\n      //  'Failed to load the template for NestedComponent -> Failed to compile ParentComponent');\n      //\n      //resolver = new FakeTemplateResolver();\n      //resolver.setAsync(ParentComponent);\n      //resolver.setError(NestedComponent);\n      //createNestedComponentSpec('(async -> error)', resolver,\n      //  'Failed to load the template for NestedComponent -> Failed to compile ParentComponent');\n\n    });\n  });\n}\n\n@Component()\n@Template({inline: '<div class=\"parent\"></div>'})\nclass ParentComponent {}\n\n@Component()\n@Template({inline: 'inline component'})\nclass MainComponent {}\n\n@Component()\n@Template({inline: 'nested component'})\nclass NestedComponent {}\n\n@Component({selector: 'rec-comp'})\n@Template({inline: '<div rec-comp></div>'})\nclass RecursiveComponent {}\n\nclass TestableCompiler extends Compiler {\n  steps:List;\n\n  constructor(reader:DirectiveMetadataReader, steps:List<CompileStep>, loader: TemplateLoader,\n    resolver: TemplateResolver) {\n    super(dynamicChangeDetection, loader, reader, new Parser(new Lexer()), new CompilerCache(),\n          new NativeShadowDomStrategy(), resolver);\n    this.steps = steps;\n  }\n\n  createSteps(component:Type, template: Template):List<CompileStep> {\n    return this.steps;\n  }\n}\n\nclass MockStep extends CompileStep {\n  processClosure:Function;\n  constructor(process) {\n    super();\n    this.processClosure = process;\n  }\n  process(parent:CompileElement, current:CompileElement, control:CompileControl) {\n    this.processClosure(parent, current, control);\n  }\n}\n\nclass FakeTemplateLoader extends TemplateLoader {\n  constructor() {\n    super(null);\n  }\n\n  load(template: Template) {\n    if (isPresent(template.inline)) {\n      return DOM.createTemplate(template.inline);\n    }\n\n    if (isPresent(template.url)) {\n      var tplElement = DOM.createTemplate(template.url);\n      return PromiseWrapper.resolve(tplElement);\n    }\n\n    return PromiseWrapper.reject('Fail to load');\n  }\n}\n\nclass FakeTemplateResolver extends TemplateResolver {\n  _forceSync: boolean;\n  _forceAsync: boolean;\n  _cmpTemplates: Map;\n  _syncCmp: List<Type>;\n  _asyncCmp: List<Type>;\n  _errorCmp: List<Type>;\n\n  constructor() {\n    super();\n    this._forceSync = false;\n    this._forceAsync = false;\n    this._syncCmp = [];\n    this._asyncCmp = [];\n    this._errorCmp = [];\n    this._cmpTemplates = MapWrapper.create();\n  }\n\n  resolve(component: Type): Template {\n    var template = MapWrapper.get(this._cmpTemplates, component);\n    if (isBlank(template)) {\n      template = super.resolve(component);\n    }\n\n    var html = template.inline;\n\n    if (isBlank(template.inline)) {\n      throw 'The tested component must define an inline template';\n    }\n\n    if (ListWrapper.contains(this._errorCmp, component)) {\n      return new Template({url: null, inline: null});\n    }\n\n    if (ListWrapper.contains(this._syncCmp, component)) {\n      return new Template({inline: html});\n    }\n\n    if (ListWrapper.contains(this._asyncCmp, component)) {\n      return new Template({url: html});\n    }\n\n    if (this._forceSync) return new Template({inline: html});\n    if (this._forceAsync) return new Template({url: html});\n\n    throw 'No template';\n  }\n\n  forceSync() {\n    this._forceSync = true;\n    this._forceAsync = false;\n  }\n\n  forceAsync() {\n    this._forceAsync = true;\n    this._forceSync = false;\n  }\n\n  setSync(component: Type) {\n    ListWrapper.push(this._syncCmp, component);\n  }\n\n  setAsync(component: Type) {\n    ListWrapper.push(this._asyncCmp, component);\n  }\n\n  setError(component: Type) {\n    ListWrapper.push(this._errorCmp, component);\n  }\n\n  setTemplate(component: Type, template: Template) {\n    MapWrapper.set(this._cmpTemplates, component, template);\n  }\n}\n","assert.argumentTypes($__placeholder__0)","assert.type.any","Object.defineProperty($__placeholder__0, $__placeholder__1,\n        {get: function() {return $__placeholder__2}});","assert.type.any","assert.type.$__placeholder__0)","assert.genericType($__placeholder__0)","return assert.returnType(($__placeholder__0), $__placeholder__1)"]}