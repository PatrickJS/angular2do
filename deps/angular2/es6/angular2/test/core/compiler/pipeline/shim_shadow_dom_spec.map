{"version":3,"sources":["shim_shadow_dom_spec.js","@traceur/generated/TemplateParser/8","@traceur/generated/TemplateParser/7","@traceur/generated/TemplateParser/10","@traceur/generated/TemplateParser/9"],"names":[],"mappings":"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","file":"/Users/patrick/Documents/open source/angular/modules/angular2/test/core/compiler/pipeline/shim_shadow_dom_spec.js","sourceRoot":"/Users/patrick/Documents/open source/angular/modules/angular2/test/core/compiler/pipeline/","sourcesContent":["import {describe, beforeEach, expect, it, iit, ddescribe, el} from 'angular2/test_lib';\n\nimport {CompilePipeline} from 'angular2/src/core/compiler/pipeline/compile_pipeline';\nimport {ShimShadowDom} from 'angular2/src/core/compiler/pipeline/shim_shadow_dom';\nimport {CompileElement} from 'angular2/src/core/compiler/pipeline/compile_element';\nimport {CompileStep} from 'angular2/src/core/compiler/pipeline/compile_step';\nimport {CompileControl} from 'angular2/src/core/compiler/pipeline/compile_control';\nimport {ShimComponent} from 'angular2/src/core/compiler/shadow_dom_emulation/shim_component';\n\nimport {Component} from 'angular2/src/core/annotations/annotations';\nimport {DirectiveMetadata} from 'angular2/src/core/compiler/directive_metadata';\nimport {ShadowDomStrategy} from 'angular2/src/core/compiler/shadow_dom_strategy';\n\nimport {Type, isBlank} from 'angular2/src/facade/lang';\nimport {DOM, Element} from 'angular2/src/facade/dom';\n\nexport function main() {\n  describe('ShimShadowDom', () => {\n    function createPipeline(ignoreBindings: boolean) {\n      var component = new Component({selector: 'selector'});\n      var meta = new DirectiveMetadata(null, component);\n      var shimShadowDom = new ShimShadowDom(meta, new FakeStrategy());\n\n      return new CompilePipeline([\n        new MockStep((parent, current, control) => {\n          current.ignoreBindings = ignoreBindings;\n        }),\n        new MockStep((parent, current, control) => {\n          var el = current.element;\n          if (DOM.hasClass(el, 'host')) {\n            current.componentDirective = new DirectiveMetadata(SomeComponent, null);\n          }\n        }),\n        shimShadowDom\n      ]);\n    }\n\n    it('should add the content attribute to content element', () => {\n      var pipeline = createPipeline(false);\n      var results = pipeline.process(el('<div></div>'));\n      expect(DOM.getAttribute(results[0].element, '_ngcontent')).toEqual('content');\n      expect(isBlank(DOM.getAttribute(results[0].element, '_nghost'))).toBeTruthy();\n    });\n\n    it('should add both the content and host attributes to host element', () => {\n      var pipeline = createPipeline(false);\n      var results = pipeline.process(el('<div class=\"host\"></div>'));\n      expect(DOM.getAttribute(results[0].element, '_ngcontent')).toEqual('content');\n      expect(DOM.getAttribute(results[0].element, '_nghost')).toEqual('host');\n    });\n\n    it('should do nothing when ignoreBindings is true', () => {\n      var pipeline = createPipeline(true);\n      var results = pipeline.process(el('<div class=\"host\"></div>'));\n      expect(isBlank(DOM.getAttribute(results[0].element, '_ngcontent'))).toBeTruthy();\n      expect(isBlank(DOM.getAttribute(results[0].element, '_nghost'))).toBeTruthy();\n    });\n  });\n}\n\nclass FakeStrategy extends ShadowDomStrategy {\n  constructor() {\n    super();\n  }\n\n  getShimComponent(component: Type): ShimComponent {\n    return new FakeShimComponent(component);\n  }\n}\n\nclass FakeShimComponent extends ShimComponent {\n  constructor(component: Type) {\n    super(component);\n  }\n\n  shimContentElement(element: Element) {\n    DOM.setAttribute(element, '_ngcontent', 'content');\n  }\n\n  shimHostElement(element: Element) {\n    DOM.setAttribute(element, '_nghost', 'host');\n  }\n}\n\nclass MockStep extends CompileStep {\n  processClosure:Function;\n  constructor(process) {\n    super();\n    this.processClosure = process;\n  }\n  process(parent:CompileElement, current:CompileElement, control:CompileControl) {\n    this.processClosure(parent, current, control);\n  }\n}\n\nclass SomeComponent {}\n\n","assert.argumentTypes($__placeholder__0)","assert.type.$__placeholder__0)","Object.defineProperty($__placeholder__0, $__placeholder__1,\n        {get: function() {return $__placeholder__2}});","return assert.returnType(($__placeholder__0), $__placeholder__1)"]}